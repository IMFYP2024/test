import{u as D}from"./DZlz8Kyx.js";import{_ as B,o as q,t as C,v as w,C as N,D as U,x as M,z}from"./DntWbA4C.js";const I=m=>(N("data-v-390d957d"),m=m(),U(),m),G=I(()=>M("h1",null,"AR ",-1)),H=I(()=>M("div",{id:"ar-container"},null,-1)),O=[G,H],J={__name:"ARScene",setup(m){D({script:[{src:"https://aframe.io/releases/1.3.0/aframe.min.js"},{src:"https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js"},{src:"https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"},{src:"https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"}]}),q(()=>{AFRAME.registerComponent("clicker2-1",{init:function(){var t=this.el;t.addEventListener("click",function(){var e=document.getElementById("showButton1").getAttribute("visible");e&&alert("1")})}}),AFRAME.registerComponent("clicker2-2",{init:function(){var t=this.el;t.addEventListener("click",function(){var e=document.getElementById("showButton1").getAttribute("visible");e&&alert("2")})}}),AFRAME.registerComponent("clicker2-3",{init:function(){var t=this.el;t.addEventListener("click",function(){var e=document.getElementById("showButton1").getAttribute("visible");e&&alert("3")})}}),AFRAME.registerComponent("clicker2-4",{init:function(){var t=this.el;t.addEventListener("click",function(){var e=document.getElementById("showButton2").getAttribute("visible");e&&alert("1")})}}),AFRAME.registerComponent("clicker2-5",{init:function(){var t=this.el;t.addEventListener("click",function(){var e=document.getElementById("showButton2").getAttribute("visible");e&&alert("2")})}}),AFRAME.registerComponent("clicker2-6",{init:function(){var t=this.el;t.addEventListener("click",function(){var e=document.getElementById("showButton2").getAttribute("visible");e&&alert("3")})}});const i=document.createElement("a-scene");i.setAttribute("id","scene"),i.setAttribute("arjs","sourceType: webcam; videoTexture: true; debugUIEnabled: false"),i.setAttribute("renderer","antialias: true; alpha: true"),i.setAttribute("vr-mode-ui","enabled: false"),i.setAttribute("cursor","rayOrigin: mouse");const l=document.createElement("a-camera");l.setAttribute("id","camera"),l.setAttribute("gps-new-camera","gpsMinDistance: 5"),i.appendChild(l);const o=document.createElement("a-entity");o.setAttribute("id","target1"),o.setAttribute("material","color: purple"),o.setAttribute("geometry","primitive: box"),o.setAttribute("gps-new-entity-place","latitude: 24.14977351688243; longitude: 120.68377231768088"),o.setAttribute("scale","4 4 4"),o.setAttribute("visible","false"),o.setAttribute("look-at","[camera]");const r=document.createElement("a-entity");r.setAttribute("position","0 1 0"),r.setAttribute("look-at","[camera]");const n=document.createElement("a-entity");n.setAttribute("geometry","primitive: plane"),n.setAttribute("material","color: black"),n.setAttribute("scale","1 0.5 0.1");const a=document.createElement("a-text");a.setAttribute("value","mis"),a.setAttribute("position","0 0 0.2"),a.setAttribute("align","center"),r.appendChild(n),r.appendChild(a),o.appendChild(r);const u=document.createElement("a-entity");u.setAttribute("id","showButton1"),u.setAttribute("visible","false");const R=c("blue","button1","0 -1 0","clicker2-1"),j=c("red","button2","0.5 -1 0","clicker2-2"),V=c("green","button3","-0.5 -1 0","clicker2-3");u.appendChild(R),u.appendChild(j),u.appendChild(V),o.appendChild(u),i.appendChild(o);const s=document.createElement("a-entity");s.setAttribute("id","target2"),s.setAttribute("material","color: red"),s.setAttribute("geometry","primitive: box"),s.setAttribute("gps-new-entity-place","latitude: 24.151025939583285; longitude: 120.68141029301923"),s.setAttribute("scale","4 4 4"),s.setAttribute("visible","false"),s.setAttribute("look-at","[camera]");const p=document.createElement("a-entity");p.setAttribute("position","0 1 0"),p.setAttribute("look-at","[camera]");const h=document.createElement("a-entity");h.setAttribute("geometry","primitive: plane"),h.setAttribute("material","color: black"),h.setAttribute("scale","1 0.5 0.1");const g=document.createElement("a-text");g.setAttribute("value","home"),g.setAttribute("position","0 0 0.2"),g.setAttribute("align","center"),p.appendChild(h),p.appendChild(g),s.appendChild(p);const d=document.createElement("a-entity");d.setAttribute("id","showButton2"),d.setAttribute("visible","false");const L=c("blue","button1","0 -1 0","clicker2-4"),P=c("red","button2","0.5 -1 0","clicker2-5"),F=c("green","button3","-0.5 -1 0","clicker2-6");d.appendChild(L),d.appendChild(P),d.appendChild(F),s.appendChild(d),i.appendChild(s),document.getElementById("ar-container").appendChild(i);function S(){"geolocation"in navigator?navigator.geolocation.watchPosition(function(t){const e=t.coords.latitude,A=t.coords.longitude;T(e,A)}):console.error("Geolocation is not supported by this browser.")}function T(t,e){[{id:"target1",latitude:24.14977351688243,longitude:120.68377231768088,button:"showButton1"},{id:"target2",latitude:24.151025939583285,longitude:120.68141029301923,button:"showButton2"}].forEach(b=>{const f=$(t,e,b.latitude,b.longitude),v=document.getElementById(b.id),E=document.getElementById(b.button);console.log(f),f<=50?v.setAttribute("visible",!0):v.setAttribute("visible",!1),f<=25?E.setAttribute("visible",!0):E.setAttribute("visible",!1)})}function $(t,e,A,b){const v=t*Math.PI/180,E=A*Math.PI/180,y=(A-t)*Math.PI/180,_=(b-e)*Math.PI/180,k=Math.sin(y/2)*Math.sin(y/2)+Math.cos(v)*Math.cos(E)*Math.sin(_/2)*Math.sin(_/2);return 6371e3*(2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)))}S()});function c(i,l,o,r){const n=document.createElement("a-entity");n.setAttribute("geometry","primitive: plane"),n.setAttribute("material",`color: ${i}`),n.setAttribute("scale","0.5 0.5 0.5"),n.setAttribute("position",o),n.setAttribute(r,"");const a=document.createElement("a-text");return a.setAttribute("value",l),a.setAttribute("align","center"),n.appendChild(a),n}return(i,l)=>(C(),w("div",null,O))}},x=B(J,[["__scopeId","data-v-390d957d"]]),K={components:{ARScene:x}};function Q(m,c,i,l,o,r){const n=x;return C(),w("div",null,[z(n)])}const et=B(K,[["render",Q]]);export{et as default};
